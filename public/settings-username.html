<!doctype html>
<html><head><meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1"><title>Change Username</title><link rel="stylesheet" href="/styles.css">  <link rel="icon" type="image/svg+xml" href="/assets/favicon.svg">
</head>
<body><div class="container"><div class="panel"><h1>Change username</h1><p class="notice">Changing username does not auto-sync authenticator label. Re-add account manually in your app if desired.</p>
<form id="changeForm"><div class="form-row"><label>Current password</label><input name="currentPassword" type="password" required></div><div class="form-row"><label>OTP</label><input name="otp" required></div><div class="form-row"><label>New username</label><input name="newUsername" required></div><button type="submit">Change username</button></form>
<div id="msg" class="message"></div><p><a href="/dashboard">Back to dashboard</a></p></div></div>
<script src="/common.js"></script><script>
document.getElementById('changeForm').addEventListener('submit',async(e)=>{e.preventDefault();const form=new FormData(e.target);try{const res=await postJson('/settings/username',Object.fromEntries(form.entries()));showMessage('msg',res.message,'success');}catch(err){showMessage('msg',err.message,'error');}});
</script></body></html>
