<!doctype html>
<html><head><meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1"><title>Forgot Password</title><link rel="stylesheet" href="/styles.css"></head>
<body><div class="container"><div class="panel"><h1>Forgot password</h1><p>Use your username and authenticator OTP to reset password.</p>
<form id="fpForm">
<div class="form-row"><label>Username</label><input name="username" required></div>
<div class="form-row"><label>OTP</label><input name="otp" required></div>
<div class="form-row"><label>New password</label><input type="password" name="newPassword" minlength="6" required></div>
<button type="submit">Reset password</button></form><div id="msg" class="message"></div><p><a href="/login">Back to login</a></p>
</div></div><script src="/common.js"></script><script>
document.getElementById('fpForm').addEventListener('submit',async(e)=>{e.preventDefault();const form=new FormData(e.target);try{const res=await postJson('/forgot-password',Object.fromEntries(form.entries()));showMessage('msg',res.message,'success');}catch(err){showMessage('msg',err.message,'error');}});
</script></body></html>
